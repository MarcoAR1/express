{"version":3,"sources":["component/Filter.jsx","component/Notification.jsx","services/phonebook.jsx","component/PersonForm.jsx","component/Persons.jsx","App.jsx","index.js"],"names":["Filter","setFilter","filter","onChange","event","test","target","value","Notification","message","error","className","baseUrl","GetInicialPersons","a","axios","get","data","CreateNewPersons","post","request","DeletePersons","id","delete","UpdatePersons","put","PersonForm","persons","setPersons","notification","useState","newName","setNewName","newNumber","setNewNumber","replaceContact","contact_id","contact","window","confirm","then","res","prevPersons","concat","catch","alert","onSubmit","preventDefault","name","replace","m","toUpperCase","number","find","toLowerCase","pattern","title","Persons","RegExp","map","onClick","person_id","handleDeletePerson","App","setMessage","setTimeout","useEffect","length","ReactDOM","render","document","getElementById"],"mappings":"qKAeeA,EAbA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,OAK3B,OACE,oDAEE,uBAAOC,SAPU,SAACC,GACP,sBAAsBC,KAAKD,EAAME,OAAOC,OAC9CN,EAAUG,EAAME,OAAOC,QAKGA,MAAOL,QCK7BM,G,MAZM,SAAC,GAAqC,IAAD,IAAlCC,eAAkC,MAAxB,GAAwB,MAApBC,aAAoB,SACxD,OACE,mCACGD,EACC,qBAAKE,UAAWD,EAAQ,QAAU,UAAlC,SAA8CD,IAE9C,O,8CCRFG,EAAU,eACHC,EAAiB,uCAAG,4BAAAC,EAAA,sEACZC,IAAMC,IAAIJ,GADE,cACzBK,EADyB,yBAExBA,EAAKA,MAFmB,2CAAH,qDAKjBC,EAAgB,uCAAG,WAAOD,GAAP,eAAAH,EAAA,sEACRC,IAAMI,KAAKP,EAASK,GADZ,cACxBG,EADwB,yBAEvBA,GAFuB,2CAAH,sDAKhBC,EAAa,uCAAG,WAAOC,GAAP,eAAAR,EAAA,sEACLC,IAAMQ,OAAN,UAAgBX,EAAhB,YAA2BU,IADtB,cACrBF,EADqB,yBAEpBA,EAAQH,MAFY,2CAAH,sDAKbO,EAAa,uCAAG,WAAOF,EAAIL,GAAX,eAAAH,EAAA,sEACLC,IAAMU,IAAN,UAAab,EAAb,YAAwBU,GAAML,GADzB,cACrBG,EADqB,yBAEpBA,GAFoB,2CAAH,wDCmFXM,EAjGI,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAAmB,EAC9BC,mBAAS,IADqB,mBACrDC,EADqD,KAC5CC,EAD4C,OAE1BF,mBAAS,IAFiB,mBAErDG,EAFqD,KAE1CC,EAF0C,KA6CtDC,EAAiB,SAACC,EAAYC,GAClCC,OAAOC,QAAP,UACKR,EADL,2EAGIP,EAAcY,EAAYC,GACvBG,MAAK,SAACC,GAAS,IACNxB,EAASwB,EAATxB,KACRW,GAAW,SAACc,GACV,OAAO,YAAIA,GACRxC,QAAO,YACN,OADkB,EAAToB,KACKL,EAAKK,MAEpBqB,OAAO1B,MAEZY,EAAa,kBAAD,OAAmBE,EAAnB,+BAEba,OAAM,WACLf,EAAa,kBAAD,OACQE,EADR,0CAEV,MAGNc,MAAM,6BAGZ,OACE,uBAAMC,SA5DY,SAAC1C,GAEnB,GADAA,EAAM2C,iBACFhB,GAAWE,EAAW,CACxB,IAAMI,EAAU,CACdW,KAAMjB,EAAQkB,QAAQ,eAAe,SAACC,GAAD,OAAOA,EAAEC,iBAC9CC,OAAQnB,GAEJoB,EAAO1B,EAAQ0B,MACnB,qBAAGL,KAAgBM,gBAAkBvB,EAAQuB,iBAE/CD,EACIlB,EAAekB,EAAK/B,GAAIe,GACxBnB,EAAiBmB,GACdG,MAAK,SAACvB,GACLW,GAAW,SAACc,GACV,MAAM,GAAN,mBAAWA,GAAX,CAAwBzB,EAAKA,UAE/BY,EAAa,SAAD,OAAUZ,EAAKA,KAAK+B,UAEjCJ,OAAM,WACLf,EAAa,mCAAD,OACyBE,EADzB,gBAEV,MAGVC,EAAW,IACXE,EAAa,SAEbH,EACIc,MAAM,6CACNA,MAAM,4CA8BZ,UACE,wCAEE,uBACE1C,SAxEiB,SAACC,GACxB4B,EAAW5B,EAAME,OAAOC,QAwElBA,MAAOwB,EACPwB,QAAQ,sBACRC,MAAM,mCAGV,0CAEE,uBACErD,SA7EmB,SAACC,GAC1B8B,EAAa9B,EAAME,OAAOC,QA6EpBA,MAAO0B,EACPsB,QAAQ,iBACRC,MAAM,4BAGV,8BACE,+CCzDOC,EAlCC,SAAC,GAAmD,IAAjD9B,EAAgD,EAAhDA,QAASzB,EAAuC,EAAvCA,OAAQ0B,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAgB9C,OACE,mCACGF,EACEzB,QAAO,gBAAG8C,EAAH,EAAGA,KAAH,OAAcU,OAAO,IAAD,OAAKxD,GAAU,KAAKG,KAAK2C,MACpDW,KAAI,YAA2B,IAAxBX,EAAuB,EAAvBA,KAAMI,EAAiB,EAAjBA,OAAQ9B,EAAS,EAATA,GACpB,OACE,8BACG0B,EADH,IACUI,EACR,wBAAQQ,QAAS,kBAvBF,SAACC,EAAWb,GACrCV,OAAOC,QAAP,6CAAqDS,EAArD,MACI3B,EAAcwC,GACXrB,MAAK,WACJX,EAAa,qBAAD,OAAsBmB,EAAtB,MACZpB,GAAW,SAACc,GACV,OAAO,YAAIA,GAAaxC,QAAO,qBAAGoB,KAAgBuC,WAGrDjB,OAAM,WACLf,EAAa,GAAD,OAAImB,EAAJ,kCAAyC,MAEzDH,MAAM,oBAWuBiB,CAAmBxC,EAAI0B,IAA9C,sBAFM1B,SC2BLyC,EA7CH,WAAO,IAAD,EACcjC,mBAAS,IADvB,mBACTH,EADS,KACAC,EADA,OAEYE,mBAAS,IAFrB,mBAET5B,EAFS,KAEDD,EAFC,OAGc6B,mBAAS,IAHvB,mBAGTrB,EAHS,KAGAuD,EAHA,KAIVnC,EAAe,SAACpB,GAA4B,IAAnBC,EAAkB,wDAC/CsD,EAAW,CACTvD,QAASA,EACTC,MAAOA,IAETuD,YAAW,WACTD,EAAW,MACV,MAQL,OANAE,qBAAU,WACRrD,IAAoB2B,MAAK,SAACb,GACxBC,EAAWD,QAEZ,IAGD,gCACE,2CACA,cAAC,EAAD,CAAclB,QAASA,EAAQA,QAASC,MAAOD,EAAQC,QACvD,cAAC,EAAD,CAAQT,UAAWA,EAAWC,OAAQA,IACtC,2CACA,cAAC,EAAD,CACEyB,QAASA,EACTC,WAAYA,EACZC,aAAcA,IAEhB,yCACCF,EAAQwC,OACP,cAAC,EAAD,CACEjE,OAAQA,EACRyB,QAASA,EACTC,WAAYA,EACZC,aAAcA,IAGhB,iBC1CRuC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.78994e06.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ setFilter, filter }) => {\r\n  const handleSearch = (event) => {\r\n    const test = /^[A-Za-z0-9\\s_-]+$/g.test(event.target.value);\r\n    test ? setFilter(event.target.value) : setFilter(event.target.value);\r\n  };\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input onChange={handleSearch} value={filter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport \"../style/Notification.css\";\r\n\r\nconst Notification = ({ message = \"\", error = false }) => {\r\n  return (\r\n    <>\r\n      {message ? (\r\n        <div className={error ? \"error\" : \"success\"}>{message}</div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\nexport const GetInicialPersons = async () => {\r\n  const data = await axios.get(baseUrl);\r\n  return data.data;\r\n};\r\n\r\nexport const CreateNewPersons = async (data) => {\r\n  const request = await axios.post(baseUrl, data);\r\n  return request;\r\n};\r\n\r\nexport const DeletePersons = async (id) => {\r\n  const request = await axios.delete(`${baseUrl}/${id}`);\r\n  return request.data;\r\n};\r\n\r\nexport const UpdatePersons = async (id, data) => {\r\n  const request = await axios.put(`${baseUrl}/${id}`, data);\r\n  return request;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { CreateNewPersons, UpdatePersons } from \"../services/phonebook\";\r\n\r\nconst PersonForm = ({ persons, setPersons, notification }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const handleChangeName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleChangeNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSumit = (event) => {\r\n    event.preventDefault();\r\n    if (newName && newNumber) {\r\n      const contact = {\r\n        name: newName.replace(/(^\\w|\\s\\w)/g, (m) => m.toUpperCase()),\r\n        number: newNumber,\r\n      };\r\n      const find = persons.find(\r\n        ({ name }) => name.toLowerCase() === newName.toLowerCase()\r\n      );\r\n      find\r\n        ? replaceContact(find.id, contact)\r\n        : CreateNewPersons(contact)\r\n            .then((data) => {\r\n              setPersons((prevPersons) => {\r\n                return [...prevPersons, data.data];\r\n              });\r\n              notification(`Added ${data.data.name}`);\r\n            })\r\n            .catch(() => {\r\n              notification(\r\n                `We could not create the contact ${newName} try again.`,\r\n                true\r\n              );\r\n            });\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    } else {\r\n      newName\r\n        ? alert(\"Please, fill in the missing field number.\")\r\n        : alert(\"Please, fill in the missing field name.\");\r\n    }\r\n  };\r\n\r\n  const replaceContact = (contact_id, contact) => {\r\n    window.confirm(\r\n      `${newName} is already added to phonebook, replace the old number with a new one?`\r\n    )\r\n      ? UpdatePersons(contact_id, contact)\r\n          .then((res) => {\r\n            const { data } = res;\r\n            setPersons((prevPersons) => {\r\n              return [...prevPersons]\r\n                .filter(({ id }) => {\r\n                  return id !== data.id;\r\n                })\r\n                .concat(data);\r\n            });\r\n            notification(`Information of ${newName} has replace successful`);\r\n          })\r\n          .catch(() => {\r\n            notification(\r\n              `Information of ${newName} has already been removed from server`,\r\n              true\r\n            );\r\n          })\r\n      : alert(\"Ok,Don`t update contact.\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSumit}>\r\n      <div>\r\n        name:\r\n        <input\r\n          onChange={handleChangeName}\r\n          value={newName}\r\n          pattern=\"^[A-Za-z\\s0-9_-]+$\"\r\n          title=\"Only number, _- and letter.\"\r\n        />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input\r\n          onChange={handleChangeNumber}\r\n          value={newNumber}\r\n          pattern=\"^[0-9+\\s_-]+$\"\r\n          title=\"Only  _- and number.\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport { DeletePersons } from \"../services/phonebook\";\r\n\r\nconst Persons = ({ persons, filter, setPersons, notification }) => {\r\n  const handleDeletePerson = (person_id, name) => {\r\n    window.confirm(`Are you sure?\\n you want delete to ${name}?`)\r\n      ? DeletePersons(person_id)\r\n          .then(() => {\r\n            notification(`Successful delete ${name}.`);\r\n            setPersons((prevPersons) => {\r\n              return [...prevPersons].filter(({ id }) => id !== person_id);\r\n            });\r\n          })\r\n          .catch(() => {\r\n            notification(`${name} has been previously deleted.`, true);\r\n          })\r\n      : alert(\"Ok, don`t delete\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {persons\r\n        .filter(({ name }) => RegExp(`^${filter}`, \"i\").test(name))\r\n        .map(({ name, number, id }) => {\r\n          return (\r\n            <p key={id}>\r\n              {name} {number}\r\n              <button onClick={() => handleDeletePerson(id, name)}>\r\n                delete\r\n              </button>\r\n            </p>\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./component/Filter\";\r\nimport Notification from \"./component/Notification\";\r\nimport PersonForm from \"./component/PersonForm\";\r\nimport Persons from \"./component/Persons\";\r\nimport { GetInicialPersons } from \"./services/phonebook.jsx\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [message, setMessage] = useState({});\r\n  const notification = (message, error = false) => {\r\n    setMessage({\r\n      message: message,\r\n      error: error,\r\n    });\r\n    setTimeout(() => {\r\n      setMessage({});\r\n    }, 2000);\r\n  };\r\n  useEffect(() => {\r\n    GetInicialPersons().then((persons) => {\r\n      setPersons(persons);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message.message} error={message.error} />\r\n      <Filter setFilter={setFilter} filter={filter} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        notification={notification}\r\n      />\r\n      <h2>Numbers</h2>\r\n      {persons.length ? (\r\n        <Persons\r\n          filter={filter}\r\n          persons={persons}\r\n          setPersons={setPersons}\r\n          notification={notification}\r\n        />\r\n      ) : (\r\n        \"Loading...\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}